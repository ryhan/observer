// Generated by CoffeeScript 1.6.1
/*
TwitterObserver
Ryhan Hassan | ryhanh@me.com
*/(function(){this.TwitterObserver=function(){function s(e,t){var n,r,i;e==null&&(e="");t==null&&(t=function(){return!1});r=0;i=e;n=t}var e,t,n,r,i;s.prototype.watch=function(e){e==null&&(e=5e3);this.update();return setInterval(this.update,e)};s.prototype.update=function(){return e(n)};e=function(e){var t,n;t="http://search.twitter.com/search.json?";n="include_entities=true&q="+query+"&callback=?";return $.getJSON(t+n,e)};t=function(e){return(new Date(e)).getTime()};r=function(e){return t(e.created_at>last_tweet_time)};i=function(e){return{user:e.from_user,text:e.text}};n=function(e){var n,s;s=_.map(_.filter(e.results,r),i);n=_.max(_.map(_.pluck(e.results,"created_at"),t));if(s.length>0)return callback(s)};return s}()}).call(this);